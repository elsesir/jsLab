<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>observer</title>
</head>
<body>

<script src="observer.js" type="text/javascript"></script>
<script>
    // create instance
    var gObserverSvc = new window.ObserverSubject();

    // observer must have `handleMessage` method.
    var observer = {
        handleMessage: function(topic, data) {
            console.log(topic + ", " + data);
        },
    };

    // register the observer to message id.
    gObserverSvc.add("hello", observer);

    // broadcast message to registered observers.
    gObserverSvc.notify("hello", "Brendan"); // "hello, Brendan"

    // unregister the observer from message id.
    gObserverSvc.remove("hello", observer);
</script>

</body>
</html>